<!DOCTYPE html>
<!--[if lt IE 7]>

<html class="lt-ie9 lt-ie8 lt-ie7" lang="en">

<![endif]-->
<!--[if IE 7]>

<html class="lt-ie9 lt-ie8" lang="en">

<![endif]-->
<!--[if IE 8]>

<html class="lt-ie9" lang="en">

<![endif]-->
<!--[if gt IE 8]>
<!-->

<html lang="en">
  
  <!--
<![endif]-->
  <head>
    <meta charset="utf-8">
        <title>
      3d智能云
    </title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">
    <!-- bootstrap css -->
    
    <link href="/icomoon/style.css" rel="stylesheet">
    <!--[if lte IE 7]>
    <script src="css/icomoon-font/lte-ie7.js">
    </script>
    <![endif]-->
  <link href="/css/wysiwyg/bootstrap-wysihtml5.css" rel="stylesheet">
  <link href="/css/wysiwyg/wysiwyg-color.css" rel="stylesheet">
  <link href="/css/main.css" rel="stylesheet"> <!-- Important. For Theming change primary-color variable in main.css  -->
  <link href="/css/charts-graphs.css" rel="stylesheet">
  <link href="/css/faceDetect.css" rel="stylesheet" type="text/css" />
  <link href="/css/picdown.css" rel="stylesheet" type="text/css" />
  </head>
  <body>

        <div class="dashboard-wrapper">
          <div class="left-sidebar">
            <div class="row-fluid">
              <div class="span12">
                <div class="widget">
                  <div class="widget-header">
                    <div class="title">
                      
                      上传数据
                      <span class="mini-title">
                        请选择对应文件夹，支持压缩包格式
                      </span>
                    </div>
                    <span class="tools">
                      <a class="fs1" aria-hidden="true" data-icon="&#xe090;"></a>
                    </span>
                  </div>
                  <div class="widget-body">
                     <div class="HolyGrail-body">   
  <main class=HolyGrail-body>
     <div id="filelist"></div>
 </main>
     
 <nav class="HolyGrail-nav">
  
       
   
   <select id="select-name">
                    <option value="1">111</option>
                    <option value="2">facede</option>
                    <option value="3">face</option>
                </select>
</nav>
<aside class="HolyGrail-ads">
<input type="file" id="upload1" multiple/>
<button id="upload-button" class="button" >Upload</button>
</aside>
</div>




                    
                    
                    </div>
                  </div>
                </div>
              </div>
            </div>
            </div>
           
            
            
            
            
            
  
     <script src="/js/azure-storage.blob.min.js" charset="utf-8"></script>
    <script src="js/wysiwyg/wysihtml5-0.3.0.js">
    </script>
    <script src="js/jquery.min.js">
    </script>
    <script src="js/bootstrap.js">
    </script>
    <script src="js/jquery.scrollUp.js">
    </script>
    <script src="js/wysiwyg/bootstrap-wysihtml5.js">
    </script>
    <script src="js/bootstrap-colorpicker.js">
    </script>
    <script type="text/javascript" src="js/date-picker/date.js">
    </script>
    <script type="text/javascript" src="js/date-picker/daterangepicker.js">
    </script>
    <script type="text/javascript" src="js/clockface.js">
    </script>
    <script type="text/javascript" src="js/bootstrap-timepicker.js">
    </script>
    <script type="text/javascript" src="js/jquery.bootstrap.wizard.js">
    </script>
    
    
    <script type="text/javascript">

        const account = {
            name: "cs1f9abf47a9b73x49c3x9c1",
            sas: "?sv=2019-02-02&ss=bfqt&srt=sco&sp=rwdlacup&se=2020-07-08T17:12:05Z&st=2019-11-06T09:12:05Z&spr=https&sig=fGDtdhwB%2BvA3ayl443p4OIfM0Vxwj%2BNp%2Fb%2BLudKDfN4%3D"
        };

        const blobUri = 'https://' + account.name + '.blob.core.windows.net';
        const blobService = AzureStorage.Blob.createBlobServiceWithSas(blobUri, account.sas);
        /*document.getElementById('create-button').addEventListener('click', () => {

        blobService.createContainerIfNotExists('mycontainer',  (error, container) => {
            if (error) {
                // Handle create container error
            } else {
                console.log(container.name);
            }
        });


        });*/

        document.getElementById('upload-button').addEventListener('click', () =>{
            document.getElementById("filelist").innerHTML="";
            let options2=$("#select-name option:selected");//获取当前选择项.
            let dir=options2.text();//获取当前选择项的文本.
            console.log(dir);
            var len=document.getElementById('upload1').files.length;
            var successnum=0;


            for(i=0;i<len;i++){

                let file = document.getElementById('upload1').files[i];

                blobService.createBlockBlobFromBrowserFile('modelblob1',
                    dir+'/'+file.name,
                    file,
                    (error, result) => {
                        if(error) {
                            // Handle blob error
                        } else {

                            append(file.name);
                            if(successnum==len-1){alert('Upload is successful');}
                            else {successnum++;}

                        }
                    });
               function append(file1){
                document.getElementById("filelist").innerHTML+=file1+"//   //";}

            }});

        //ScrollUp
      $(function () {
        $.scrollUp({
          scrollName: 'scrollUp', // Element ID
          topDistance: '300', // Distance from top before showing element (px)
          topSpeed: 300, // Speed back to top (ms)
          animation: 'fade', // Fade, slide, none
          animationInSpeed: 400, // Animation in speed (ms)
          animationOutSpeed: 400, // Animation out speed (ms)
          scrollText: 'Scroll to top', // Text for element
          activeOverlay: false, // Set CSS color to display scrollUp active point, e.g '#00FFFF'
        });
      });




    </script>
  
</body>
</html>