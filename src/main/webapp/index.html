<!DOCTYPE html>
<!--[if lt IE 7]>

<html class="lt-ie9 lt-ie8 lt-ie7" lang="en">

<![endif]-->
<!--[if IE 7]>

<html class="lt-ie9 lt-ie8" lang="en">

<![endif]-->
<!--[if IE 8]>

<html class="lt-ie9" lang="en">

<![endif]-->
<!--[if gt IE 8]>
<!-->

<html lang="en">
  
  <!--
<![endif]-->
  <head>
    <meta charset="utf-8">
    <title>
      3d智能云
    </title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">
    <!-- bootstrap css -->
    
    <link href="/icomoon/style.css" rel="stylesheet">
    <!--[if lte IE 7]>
    <script src="css/icomoon-font/lte-ie7.js">
    </script>
    <![endif]-->
  <link href="/css/wysiwyg/bootstrap-wysihtml5.css" rel="stylesheet">
  <link href="/css/wysiwyg/wysiwyg-color.css" rel="stylesheet">
  <link href="/css/main.css" rel="stylesheet"> <!-- Important. For Theming change primary-color variable in main.css  -->
  <link href="/css/charts-graphs.css" rel="stylesheet">
  <link href="/css/faceDetect.css" rel="stylesheet" type="text/css" />
  </head>
  <body>
    <header>
      <a href="#" class="logo">
        <img src="images/logo10.jpg" alt="logo" />
      </a>
      <div class="btn-group">
        <button class="btn btn-primary" id='nuser'>
          
        </button>
        <button data-toggle="dropdown" class="btn btn-primary dropdown-toggle">
          <span class="caret">
          </span>
        </button>
        <ul class="dropdown-menu pull-right">
          <li>
            <a href="#" onclick="test()">
              Edit Profile
            </a>
          </li>
          <li>
            <a href="#">
              Account Settings
            </a>
          </li>
          <li>
            <a href="#" onclick="logout()">
              Logout
            </a>
          </li>
        </ul>
      </div>
      <ul class="mini-nav">
        
      </ul>
      
    </header>
    <div class="container-fluid">
      <div class="dashboard-container">
        <div class="top-nav">
          <ul>
            <li>
              <a href="index.html" class="selected" id="ce0">
                
                                                     在线人脸检测
              </a>
            </li>
            <li>
              <a onclick="load_home(this)" class="" id="ce1">
                
                                                   上传数据
              </a>
            </li>
            <li>
              <a onclick="load_home(this)" class="" id="ce2">
                
                下载数据
              </a>
            </li>
            <li>
              <a onclick="load_home(this)" class="" id="ce3">
               
                 上传模型
              </a>
            </li>
            <li>
              <a onclick="load_home(this)" class="" id="ce4">
               
                在线模型          
              </a>
            </li>
            <li>
              <a onclick="load_home(this)" class="" id="ce5">
               
                模型管理
              </a>
            </li>

           
          </ul>
          <div class="clearfix">
          </div>
        </div>
       
        <div class="dashboard-wrapper" id="htbody" height=800px>
          
          <div class="left-sidebar">
            
            <div class="row-fluid">
              <div class="span12">
                <div class="widget">
                  <div class="widget-header">
                    <div class="title">
                      在线人脸检测
                      <span class="mini-title">
                        检测有风险
                      </span>
                    </div>
                    <span class="tools">
                      <a class="fs1" aria-hidden="true" data-icon="&#xe090;"></a>
                    </span>
                  </div>
                  <div class="widget-body" id="htbody">
	<div id="main-body">
		<div class="select-show-img" id="Imagediv">
			<div class="img-frame" >
				<img class="src-img" src="/images/kk2.jpg" alt="图片预览区" title="预览图片" id="ImagePic"
					height="260" width="260" >
			</div>

			<div class="select-img">
				<div class="select-img-area">
					

	<button class="select-img-btn" type="button" onclick="document.getElementById('upload').click();">上传图片</button>
					
				</div>
			</div>
		</div>
	</div>
	<input type="file" id="upload">                
              </div>
            </div>
            </div>
            
            
            <div class="row-fluid">
              <div class="span12">
                <div class="widget">
                  <div class="widget-header">
                    <div class="title">
                      Line Chart
                      <span class="mini-title">
                        Social Statistics 
                      </span>
                    </div>
                    <span class="tools">
                      <a class="fs1" aria-hidden="true" data-icon="&#xe090;"></a>
                    </span>
                  </div>
                  <div class="widget-body">
                    <div id="area_chart">
                    </div>
                  </div>
                </div>
              </div>
            </div>
           </div>
           </div>
         
            
      </div>      
            
    </div>
    </div>      
          
           
    <footer>
      <p>
        &copy; reinlight 2019
      </p>
    </footer>
    
    <script src="js/wysiwyg/wysihtml5-0.3.0.js">
    </script>
    <script src="js/jquery.min.js">
    </script>
    <script src="js/bootstrap.js">
    </script>
    <script src="js/wysiwyg/bootstrap-wysihtml5.js">
    </script>
    <script src="js/jquery.scrollUp.js">
    </script>
    
    
    
    <!-- Google Visualization JS -->
  
    
    <!-- Easy Pie Chart JS -->
    <script src="js/jquery.easy-pie-chart.js">
    </script>
    
    <!-- Sparkline JS -->
    <script src="js/jquery.sparkline.js">
    </script>
    
    <!-- Tiny Scrollbar JS -->
    <script src="js/tiny-scrollbar.js">
    </script>
    
    
    
    <script type="text/javascript">
 var obj=document.getElementById('nuser');
 var nusername=localStorage.getItem("nuid");
 obj.innerHTML=nusername;
    var fileInput = document.querySelector('input[type=file]')
    var previewImg =  document.querySelector("#ImagePic");
    
fileInput.addEventListener('change', function() {
var file = this.files[0];
var reader = new FileReader();
let token=localStorage.getItem("token");
//$("#ImagePic").attr("src", "");
// 监听reader对象的的onload事件，当图片加载完成时，把base64编码賦值给预览图片
reader.addEventListener("load", function() {
	previewImg.src = reader.result;
	$.ajax({
		type : 'POST',
		url : '/picup',
		headers: {'Authorization': token},
		data : {
			
			"pic" : previewImg.src
		},
		success : function(data) {
			if (data.state == 1) {
				$("#ImagePic").attr("src",
						"data:image/gif;base64," + data.picret);
			} else {
				alert("错误码："+data.state+",没有检测到人脸");

			}
		}
	}

	)
}, false);

// 调用reader.readAsDataURL()方法，把图片转成base64
reader.readAsDataURL(file);

}, false);
      //ScrollUp
      $(function () {
        $.scrollUp({
          scrollName: 'scrollUp', // Element ID
          topDistance: '300', // Distance from top before showing element (px)
          topSpeed: 300, // Speed back to top (ms)
          animation: 'fade', // Fade, slide, none
          animationInSpeed: 400, // Animation in speed (ms)
          animationOutSpeed: 400, // Animation out speed (ms)
          scrollText: 'Scroll to top', // Text for element
          activeOverlay: false, // Set CSS color to display scrollUp active point, e.g '#00FFFF'
        });
      });
function test(){
	alert('启动');
}
     


function load_home(ele) {
	var x=document.getElementsByClassName('selected');
	
	var i;
	for (i = 0; i <x.length; i++) {
	   x[i].className= null;
	}
	switch(ele.id){
		case "ce1":
			
	        document.getElementById("htbody").innerHTML = '<object type="text/html" data="upload.html" width="100%" height=700px></object>';
	        $("#ce1").attr("class", "selected");
	        break;
		case "ce2":
			document.getElementById("htbody").innerHTML = '<object type="text/html" data="download.html" width="100%" height=700px></object>';
            $("#ce2").attr("class", "selected");
            break;
		case "ce3":
			document.getElementById("htbody").innerHTML = '<object type="text/html" data="ui-elements.html" width="100%" height=700px></object>';
            $("#ce3").attr("class", "selected");
            break;
		case "ce4":
			document.getElementById("htbody").innerHTML = '<object type="text/html" data="faceapi.html" width="100%" height=700px></object>';
            $("#ce4").attr("class", "selected");
            break;
		case "ce5":
			document.getElementById("htbody").innerHTML = '<object type="text/html" data="tables.html" width="100%" height=700px></object>';
            $("#ce5").attr("class", "selected");
            break;

		
            
            
        
	   }
	}
	
    </script>
    
    
 <script src="js/logincontrol.js">
    </script> 
</body>
</html>